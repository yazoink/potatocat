<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/iframe.css" />
    <script src='../js/get.js'></script>
    <script type="text/javascript" src="../blog/blog.json"></script>
  </head>
  <body>
    <h1 class='top-text'>Blog</h1>
    <br />
    <p><b>Categories: <a href='../index.html?nav=blog' target="_top">All Entries</a></b>
    <script>
      var categories = [];
      for (var i = 0; i < blog.length; i++) {
        for (var j = 0; j < blog[i].categories.length; j++) {
          if (categories.includes(blog[i].categories[j]) == false) {
            categories.push(blog[i].categories[j]);
          }
        } 
      }
      categories.sort();
      for (var i = 0; i < categories.length; i++) {
        document.write("<a href='../index.html?nav=blog&cat=" + categories[i] + "' target='_top'>" + categories[i] + "</a> ");
      }
    </script>
    </p>
    <br />
    <script>
      if ("cat" in get) {
        document.write("<h1>" + get['cat'] + "</h1>")
        document.write("<ul>")
        for (var i = 0; i < blog.length; i++) {
          var entry = blog[i].title.replace(/ /g, "-");
          entry = entry.toLowerCase();
          if (blog[i].categories.includes(get['cat']) == true) {
              document.write("<li><a href='../index.html?nav=blog&entry=" + entry + "' target='_top'>" + blog[i].title + " - " + blog[i].datePublished + "</a></li>");
          }
        }
      } else {
        document.write("<h1>All Entries</h1>");
        document.write("<ul>")
        for (var i = 0; i < blog.length; i++) {
          var entry = blog[i].title.replace(/ /g, "-");
          entry = entry.toLowerCase();
          document.write("<li><a href='../index.html?nav=blog&entry=" + entry + "' target='_top'>" + blog[i].title + " - " + blog[i].datePublished + "</a></li>");
        }
      }
      document.write("</ul>")
    </script>
    <br />
  </body>
</html>
